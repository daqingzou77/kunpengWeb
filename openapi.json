{"openapi":"3.0.2","info":{"title":"临猗冬枣溯源","version":"0.1.0"},"paths":{"/rest/api/test1":{"post":{"summary":"Read Root","operationId":"read_root_rest_api_test1_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AiotRaw"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/data/std/{sensor_type}/{sensor_id}":{"get":{"summary":"Read Sensor","operationId":"read_sensor_api_data_std__sensor_type___sensor_id__get","parameters":[{"required":true,"schema":{"title":"Sensor Type","type":"string"},"name":"sensor_type","in":"path"},{"required":true,"schema":{"title":"Sensor Id","type":"integer"},"name":"sensor_id","in":"path"},{"required":false,"schema":{"title":"Start","type":"string","format":"date-time"},"name":"start","in":"query"},{"required":false,"schema":{"title":"Stop","type":"string","format":"date-time"},"name":"stop","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Read Sensor Api Data Std  Sensor Type   Sensor Id  Get","type":"array","items":{"$ref":"#/components/schemas/StdData"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/data/aiot/{sensor_id}":{"get":{"summary":"Read Sensor","operationId":"read_sensor_api_data_aiot__sensor_id__get","parameters":[{"required":true,"schema":{"title":"Sensor Id","type":"integer"},"name":"sensor_id","in":"path"},{"required":true,"schema":{"title":"Sensor Type","type":"string"},"name":"sensor_type","in":"query"},{"required":false,"schema":{"title":"Start","type":"string","format":"date-time"},"name":"start","in":"query"},{"required":false,"schema":{"title":"Stop","type":"string","format":"date-time"},"name":"stop","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Read Sensor Api Data Aiot  Sensor Id  Get","type":"array","items":{"$ref":"#/components/schemas/AiotSensor"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/data/mqtt/{sensor_id}":{"get":{"summary":"Read Sensor","operationId":"read_sensor_api_data_mqtt__sensor_id__get","parameters":[{"required":true,"schema":{"title":"Sensor Id","type":"integer"},"name":"sensor_id","in":"path"},{"required":true,"schema":{"title":"Sensor Type","type":"string"},"name":"sensor_type","in":"query"},{"required":false,"schema":{"title":"Start","type":"string","format":"date-time"},"name":"start","in":"query"},{"required":false,"schema":{"title":"Stop","type":"string","format":"date-time"},"name":"stop","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Read Sensor Api Data Mqtt  Sensor Id  Get","type":"array","items":{"$ref":"#/components/schemas/MqttData"}}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/sensors":{"get":{"summary":"Read Sensors","operationId":"read_sensors_api_sensors_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Read Sensors Api Sensors Get","type":"array","items":{"$ref":"#/components/schemas/Sensor"}}}}}}}},"/api/farms":{"get":{"summary":"Read Farms","operationId":"read_farms_api_farms_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Read Farms Api Farms Get","type":"array","items":{"$ref":"#/components/schemas/FarmData"}}}}}}}}},"components":{"schemas":{"AiotRaw":{"title":"AiotRaw","type":"object","properties":{"generateTime":{"title":"Generatetime","type":"integer","default":0},"message":{"title":"Message","type":"string","default":""},"topicType":{"title":"Topictype","type":"string","default":""}}},"AiotSensor":{"title":"AiotSensor","type":"object","properties":{"SN":{"title":"Sn","type":"string","default":""},"airPressure":{"title":"Airpressure","type":"integer","default":0},"altitude":{"title":"Altitude","type":"integer","default":0},"atmosphericHumidity":{"title":"Atmospherichumidity","type":"integer","default":0},"atmosphericTemperature":{"title":"Atmospherictemperature","type":"number","default":0.0},"batteryLevel":{"title":"Batterylevel","type":"integer","default":0},"codot2":{"title":"Codot2","type":"integer","default":0},"latitude":{"title":"Latitude","type":"number","default":0.0},"lightintensity":{"title":"Lightintensity","type":"integer","default":0},"intitude":{"title":"Intitude","type":"number","default":0.0},"negativeOxygen":{"title":"Negativeoxygen","type":"integer","default":0},"noise":{"title":"Noise","type":"integer","default":0},"pm2dot10":{"title":"Pm2Dot10","type":"integer","default":0},"pm2dot5":{"title":"Pm2Dot5","type":"integer","default":0},"precipitation":{"title":"Precipitation","type":"integer","default":0},"signalintensity":{"title":"Signalintensity","type":"integer","default":0},"soilConductivity":{"title":"Soilconductivity","type":"integer","default":0},"soilHumidity":{"title":"Soilhumidity","type":"integer","default":0},"soilK":{"title":"Soilk","type":"integer","default":0},"soilN":{"title":"Soiln","type":"integer","default":0},"soilP":{"title":"Soilp","type":"integer","default":0},"soilPH":{"title":"Soilph","type":"number","default":0.0},"soilTemperature":{"title":"Soiltemperature","type":"number","default":0.0},"solarRadiation":{"title":"Solarradiation","type":"integer","default":0},"timestamp":{"title":"Timestamp","type":"integer","default":0},"waterConductivity":{"title":"Waterconductivity","type":"integer","default":0},"waterORP":{"title":"Waterorp","type":"integer","default":0},"waterPH":{"title":"Waterph","type":"number","default":0.0},"waterTemperature":{"title":"Watertemperature","type":"integer","default":0},"windDirection":{"title":"Winddirection","type":"integer","default":0},"windSpeed":{"title":"Windspeed","type":"number","default":0.0}}},"FarmData":{"title":"FarmData","type":"object","properties":{"farmId":{"title":"Farmid","type":"string","default":"farm0001"},"name":{"title":"Name","type":"string","default":"农场名称"},"desc":{"title":"Desc","type":"string","default":"农场描述"},"slogan":{"title":"Slogan","type":"string","default":"农场宣传语"},"size":{"title":"Size","allOf":[{"$ref":"#/components/schemas/FarmSize"}],"default":{"value":100,"unit":"亩"}},"location":{"title":"Location","allOf":[{"$ref":"#/components/schemas/FarmLocation"}],"default":{"lon":0.0,"lat":0.0}},"region":{"title":"Region","allOf":[{"$ref":"#/components/schemas/FarmRegion"}],"default":{"adcode":"440106","province":"广东省","city":"广州市","district":"天河区"}},"address":{"title":"Address","type":"string","default":"详细地址"},"products":{"title":"Products","type":"array","items":{"$ref":"#/components/schemas/FarmProduct"},"default":[]},"pictures":{"title":"Pictures","type":"array","items":{"type":"string"},"default":[]}}},"FarmLocation":{"title":"FarmLocation","type":"object","properties":{"lon":{"title":"Lon","type":"number","default":0.0},"lat":{"title":"Lat","type":"number","default":0.0}}},"FarmProduct":{"title":"FarmProduct","type":"object","properties":{"name":{"title":"Name","type":"string","default":"产品名称"}}},"FarmRegion":{"title":"FarmRegion","type":"object","properties":{"adcode":{"title":"Adcode","type":"string","default":"440106"},"province":{"title":"Province","type":"string","default":"广东省"},"city":{"title":"City","type":"string","default":"广州市"},"district":{"title":"District","type":"string","default":"天河区"}}},"FarmSize":{"title":"FarmSize","type":"object","properties":{"value":{"title":"Value","type":"number","default":100},"unit":{"title":"Unit","type":"string","default":"亩"}}},"HTTPValidationError":{"title":"HTTPValidationError","type":"object","properties":{"detail":{"title":"Detail","type":"array","items":{"$ref":"#/components/schemas/ValidationError"}}}},"MqttData":{"title":"MqttData","type":"object","properties":{"collectTime":{"title":"Collecttime","type":"string","default":""},"deviceId":{"title":"Deviceid","type":"string","default":""},"deviceType":{"title":"Devicetype","type":"integer","default":0},"dewPoint":{"title":"Dewpoint","type":"number","default":0.0},"ecs":{"title":"Ecs","type":"array","items":{"$ref":"#/components/schemas/MqttEcsData"},"default":[]},"farmId":{"title":"Farmid","type":"string","default":""},"humidity":{"title":"Humidity","type":"number","default":0.0},"illuminance":{"title":"Illuminance","type":"number","default":0.0},"insects":{"title":"Insects","type":"array","items":{"$ref":"#/components/schemas/MqttInsectsData"},"default":[]},"pictures":{"title":"Pictures","type":"array","items":{"type":"string"},"default":[]},"pressure":{"title":"Pressure","type":"number","default":0.0},"rainfall":{"title":"Rainfall","type":"number","default":0.0},"soils":{"title":"Soils","type":"array","items":{"$ref":"#/components/schemas/MqttSoilData"},"default":[]},"temperature":{"title":"Temperature","type":"number","default":0.0},"windDirection":{"title":"Winddirection","type":"number","default":0.0},"windDirectionDesc":{"title":"Winddirectiondesc","type":"string","default":""},"windScale":{"title":"Windscale","type":"integer","default":0},"windSpeed":{"title":"Windspeed","type":"number","default":0.0}}},"MqttEcsData":{"title":"MqttEcsData","type":"object","properties":{"sensorId":{"title":"Sensorid","type":"string","default":"87654321"},"soilEc":{"title":"Soilec","type":"number","default":0.0}}},"MqttInsectsData":{"title":"MqttInsectsData","type":"object","properties":{"sensorId":{"title":"Sensorid","type":"string","default":"01472589"},"insectCnt":{"title":"Insectcnt","type":"integer","default":0}}},"MqttSoilData":{"title":"MqttSoilData","type":"object","properties":{"sensorId":{"title":"Sensorid","type":"string","default":"12345678"},"soilMoisture":{"title":"Soilmoisture","type":"number","default":0.0},"soilTemperature":{"title":"Soiltemperature","type":"number","default":0.0}}},"Sensor":{"title":"Sensor","type":"object","properties":{"code":{"title":"Code","type":"string","default":"S12345678"},"type":{"title":"Type","type":"string","default":"mqtt,aiot,tcp"},"province":{"title":"Province","type":"string","default":""},"city":{"title":"City","type":"string","default":""},"country":{"title":"Country","type":"string","default":""},"farmId":{"title":"Farmid","type":"string","default":""},"desc":{"title":"Desc","type":"string","default":""}}},"StdData":{"title":"StdData","type":"object","properties":{"airHumidity":{"title":"Airhumidity","type":"integer","default":0},"airPressure":{"title":"Airpressure","type":"integer","default":0},"illuminance":{"title":"Illuminance","type":"integer","default":0},"rainfall":{"title":"Rainfall","type":"integer","default":0},"airTemperature":{"title":"Airtemperature","type":"number","default":0.0},"windDirection":{"title":"Winddirection","type":"integer","default":0},"windSpeed":{"title":"Windspeed","type":"number","default":0.0},"pictureUrl":{"title":"Pictureurl","type":"string","default":"http://..."}}},"ValidationError":{"title":"ValidationError","required":["loc","msg","type"],"type":"object","properties":{"loc":{"title":"Location","type":"array","items":{"type":"string"}},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}}}}}}